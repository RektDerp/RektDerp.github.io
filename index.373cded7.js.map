{"mappings":"AAAA,IAEIA,GAFAC,KAAM,EACNC,GAAK,WAgBAC,WACJD,GAAK,KACNE,yBAsBKA,gBAkBP,OAjBAC,KAAO,EAAoB,GAAhBC,KAAKC,SAChBC,MAAQ,GAAqB,GAAhBF,KAAKC,SAClBE,KAA6B,GAAhBH,KAAKC,SAAX,GACPG,IAAM,EAAoB,EAAhBJ,KAAKC,SAEfI,OAASC,SAASC,cAAc,OAChCF,OAAOG,UAAUC,IAAI,YACrBJ,OAAOK,MAAMC,YAAY,SAAUZ,KAAO,MAC1CM,OAAOK,MAAMC,YAAY,UAAWT,MAAQ,KAC5CG,OAAOK,MAAMC,YAAY,SAAUR,KAAO,OAC1CE,OAAOK,MAAMC,YAAY,UAAWP,IAAM,KAC1CC,OAAOK,MAAMC,YAAY,UAAW,GAAKZ,MAEzCO,SAASM,eAAe,UAAUC,YAAYR,QAC9CS,OAAS,IAAIC,WAAWV,QACxBA,OAAOW,iBAAiB,eAAgBF,QAEjCT,OAvDTU,WAAU,MACRE,iBACYC,GACVC,KAAKF,KAAOC,EACZtB,KAEFwB,cACED,KAAKF,KAAKI,SACVzB,OAWJU,SAASM,eAAe,QAAQI,iBAAiB,SAAO,MACtDrB,KAAOA,MAELD,GAAK4B,YAAYzB,SAAU,IAC3BS,SAASM,eAAe,QAAQW,UAAY,QAC5CjB,SAASM,eAAe,UAAUY,UAAY,WACtClB,SAACM,eAAe,SAASF,MAAMe,UAAY,yDACnDnB,SAASM,eAAe,WAAWF,MAAMe,UAAY,2DAGrDC,cAAchC,IACdY,SAASM,eAAe,QAAQW,UAAY,QAC5CjB,SAASM,eAAe,UAAUY,UAAY,UAC9ClB,SAASM,eAAe,SAASF,MAAMe,UAAY,OACnDnB,SAASM,eAAe,WAAWF,MAAMe,UAAY,WAyBzDnB,SAASM,eAAe,SAASI,iBAAiB,SAAO,KACe,GAAnEV,SAASM,eAAe,QAAQF,MAAMiB,iBAAiB,UACxDrB,SAASM,eAAe,QAAQF,MAAMC,YAAY,QAAS,MAC3DL,SAASM,eAAe,SAASF,MAAMkB,UAAY,kBAGnDtB,SAASM,eAAe,QAAQF,MAAMC,YAAY,QAAS,KAC3DL,SAASM,eAAe,SAASF,MAAMkB,UAAY","sources":["Labs3/Itera/RektDerp.github.io/src/script/index.js"],"sourcesContent":["var btn = false;\nvar am = 0;\nvar id;\n\nworkaround = class{\n  elem;\n  constructor(e){\n    this.elem = e;\n    am++;\n  }\n  handleEvent(){\n    this.elem.remove();\n    am--;\n    //console.log('destroyed');\n  }\n}\n\nfunction infiloop(){\n  if(am < 100){\n    spawnTriangle();\n  }\n}\n\ndocument.getElementById(\"butt\").addEventListener(\"click\",() => {\n  btn = !btn;\n  if(btn){\n    id = setInterval(infiloop, 10);\n    document.getElementById(\"butt\").className = 'sbtne';\n    document.getElementById(\"btntxt\").innerHTML = 'Вырубить';\n    document.getElementById('frame').style.animation = 'calc(60s / var(--bpm)) ease-out running infinite pulse';\n    document.getElementById('maintxt').style.animation = 'calc(60s / var(--bpm)) ease-out running infinite pulse';\n  }\n  else {\n    clearInterval(id);\n    document.getElementById(\"butt\").className = 'sbtnd';\n    document.getElementById(\"btntxt\").innerHTML = 'Врубить';\n    document.getElementById('frame').style.animation = 'none';\n    document.getElementById('maintxt').style.animation = 'none';\n  }\n});\n\nfunction spawnTriangle(){\n  size = 2 + Math.random() * 15;\n  light = 40 + Math.random() * 45;\n  xpos = -28 + Math.random() * 56;\n  dur = 8 + Math.random() * 5;\n\n  newDiv = document.createElement(\"div\");\n  newDiv.classList.add('triangle');\n  newDiv.style.setProperty('--base', size + 'vw');\n  newDiv.style.setProperty('--light', light + '%');\n  newDiv.style.setProperty('--xpos', xpos + 'rem');\n  newDiv.style.setProperty('--speed', dur + 's');\n  newDiv.style.setProperty('z-index', 15 - size);\n  //console.log('size ' + size + ', light ' + light + ', xpos ' + xpos);\n  document.getElementById('parent').appendChild(newDiv);\n  crutch = new workaround(newDiv);\n  newDiv.addEventListener('animationend', crutch);\n\n  return newDiv;\n}\n\ndocument.getElementById('arrow').addEventListener('click',()=>{\n  if(document.getElementById('root').style.getPropertyValue('--exp') == 0){\n    document.getElementById('root').style.setProperty('--exp', '17');\n    document.getElementById('arrow').style.transform = 'rotate(45deg)';\n  }\n  else {\n    document.getElementById('root').style.setProperty('--exp', '0');\n    document.getElementById('arrow').style.transform = 'rotate(-135deg)';\n  }\n});\n"],"names":["id","btn","am","infiloop","spawnTriangle","size","Math","random","light","xpos","dur","newDiv","document","createElement","classList","add","style","setProperty","getElementById","appendChild","crutch","workaround","addEventListener","elem","e","this","handleEvent","remove","setInterval","className","innerHTML","animation","clearInterval","getPropertyValue","transform"],"version":3,"file":"index.373cded7.js.map"}